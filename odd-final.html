<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Odd One Out</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Righteous&family=Archivo:wght@500;600;700&display=swap" rel="stylesheet">
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Archivo', sans-serif;
        background: #3e2723;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
    }

    /* Coffee texture */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
            radial-gradient(circle at 20% 30%, rgba(121, 85, 72, 0.15) 0%, transparent 50%),
            radial-gradient(circle at 80% 70%, rgba(93, 64, 55, 0.1) 0%, transparent 50%),
            repeating-linear-gradient(
                0deg,
                transparent,
                transparent 3px,
                rgba(78, 52, 46, 0.05) 3px,
                rgba(78, 52, 46, 0.05) 6px
            );
        pointer-events: none;
        opacity: 0.4;
        z-index: 998;
    }

    /* Warm cafe lighting */
    .warm-light {
        position: fixed;
        top: 0;
        left: 50%;
        width: 80%;
        height: 100%;
        background: radial-gradient(ellipse at top, rgba(255, 183, 77, 0.08) 0%, transparent 60%);
        transform: translateX(-50%);
        pointer-events: none;
        animation: flicker 8s ease-in-out infinite;
        z-index: 0;
    }

    @keyframes flicker {
        0%, 100% { opacity: 0.6; }
        50% { opacity: 0.8; }
    }

    /* Coffee cup steam */
    .steam {
        position: fixed;
        font-size: 2rem;
        opacity: 0.1;
        pointer-events: none;
        animation: rise 15s ease-in-out infinite;
        z-index: 0;
    }

    .steam-1 {
        top: 15%;
        left: 12%;
        animation-delay: 0s;
    }

    .steam-2 {
        bottom: 20%;
        right: 18%;
        animation-delay: 5s;
    }

    @keyframes rise {
        0%, 100% { transform: translateY(0) scale(1); opacity: 0.1; }
        50% { transform: translateY(-40px) scale(1.2); opacity: 0.15; }
    }

    .container {
        max-width: 680px;
        margin: 0 auto;
        padding: 48px 24px;
        position: relative;
        z-index: 1;
    }

    h1 {
        font-family: 'Righteous', sans-serif;
        font-size: 4.2rem;
        text-align: center;
        margin-bottom: 16px;
        color: #d7ccc8;
        text-shadow: 
            2px 2px 0 rgba(0,0,0,0.3),
            0 0 30px rgba(215, 204, 200, 0.3);
        letter-spacing: 0.05em;
    }

    h2 {
        font-family: 'Righteous', sans-serif;
        font-size: 2.5rem;
        margin-bottom: 32px;
        color: #bcaaa4;
        text-align: center;
        text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
    }

    .subtitle {
        text-align: center;
        color: #a1887f;
        font-size: 1.1rem;
        margin-bottom: 48px;
        font-weight: 600;
        letter-spacing: 0.03em;
    }

    .setup-section {
        margin-bottom: 32px;
        background: rgba(78, 52, 46, 0.5);
        backdrop-filter: blur(10px);
        padding: 28px;
        border-radius: 12px;
        border: 2px solid rgba(161, 136, 127, 0.3);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    }

    label {
        display: block;
        color: #bcaaa4;
        font-weight: 700;
        margin-bottom: 12px;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
    }

    input[type="text"],
    select,
    textarea {
        width: 100%;
        padding: 14px 16px;
        background: rgba(62, 39, 35, 0.8);
        border: 2px solid rgba(161, 136, 127, 0.4);
        border-radius: 8px;
        color: #d7ccc8;
        font-size: 1rem;
        font-family: 'Archivo', sans-serif;
        font-weight: 600;
        transition: all 0.2s;
    }

    input[type="text"]:focus,
    select:focus,
    textarea:focus {
        outline: none;
        background: rgba(62, 39, 35, 1);
        border-color: #a1887f;
        box-shadow: 0 0 0 3px rgba(161, 136, 127, 0.2);
    }

    textarea {
        min-height: 100px;
        resize: vertical;
    }

    .btn {
        width: 100%;
        padding: 18px 28px;
        background: linear-gradient(135deg, #8d6e63 0%, #6d4c41 100%);
        color: #efebe9;
        border: 2px solid rgba(188, 170, 164, 0.3);
        border-radius: 10px;
        font-size: 1.15rem;
        font-weight: 700;
        cursor: pointer;
        font-family: 'Righteous', sans-serif;
        letter-spacing: 0.05em;
        transition: all 0.2s;
        box-shadow: 0 6px 20px rgba(109, 76, 65, 0.4);
        margin-top: 16px;
    }

    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 28px rgba(109, 76, 65, 0.5);
        border-color: rgba(188, 170, 164, 0.5);
    }

    .btn:active {
        transform: translateY(0);
    }

    .btn-secondary {
        background: linear-gradient(135deg, #5d4037 0%, #4e342e 100%);
        border-color: rgba(121, 85, 72, 0.3);
        box-shadow: 0 6px 20px rgba(78, 52, 46, 0.4);
    }

    .btn-secondary:hover {
        box-shadow: 0 10px 28px rgba(78, 52, 46, 0.5);
    }

    .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
    }

    .btn-small {
        width: auto;
        padding: 12px 24px;
        font-size: 0.95rem;
        margin-top: 0;
        margin-left: 12px;
    }

    .player-input-container {
        display: flex;
        align-items: center;
    }

    .player-input-container input {
        margin: 0;
    }

    .players-list {
        background: rgba(62, 39, 35, 0.5);
        border-radius: 10px;
        padding: 16px;
        margin-top: 16px;
        border: 1px solid rgba(161, 136, 127, 0.2);
        max-height: 300px;
        overflow-y: auto;
    }

    .player-item {
        padding: 12px 18px;
        margin-bottom: 10px;
        background: linear-gradient(135deg, rgba(141, 110, 99, 0.3), rgba(109, 76, 65, 0.3));
        border-radius: 8px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: 1px solid rgba(161, 136, 127, 0.3);
        animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
        from { opacity: 0; transform: translateX(-20px); }
        to { opacity: 1; transform: translateX(0); }
    }

    .player-name {
        font-weight: 700;
        color: #d7ccc8;
        font-size: 1.05rem;
    }

    .remove-btn {
        background: rgba(141, 110, 99, 0.6);
        color: #efebe9;
        border: 1px solid rgba(188, 170, 164, 0.3);
        padding: 6px 14px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 700;
        transition: all 0.2s;
    }

    .remove-btn:hover {
        background: rgba(141, 110, 99, 0.8);
        transform: scale(1.05);
    }

    .name-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 16px;
        margin: 28px 0;
    }

    .name-button {
        padding: 32px 20px;
        background: linear-gradient(135deg, rgba(141, 110, 99, 0.4), rgba(109, 76, 65, 0.4));
        backdrop-filter: blur(10px);
        color: #d7ccc8;
        border: 2px solid rgba(161, 136, 127, 0.4);
        border-radius: 10px;
        font-size: 1.25rem;
        font-weight: 700;
        cursor: pointer;
        font-family: 'Righteous', sans-serif;
        letter-spacing: 0.03em;
        transition: all 0.2s;
        min-height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        box-shadow: 0 6px 20px rgba(109, 76, 65, 0.3);
    }

    .name-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 28px rgba(109, 76, 65, 0.5);
        border-color: rgba(161, 136, 127, 0.6);
        background: linear-gradient(135deg, rgba(141, 110, 99, 0.5), rgba(109, 76, 65, 0.5));
    }

    .name-button:active {
        transform: translateY(-1px);
    }

    .name-button.viewed {
        background: linear-gradient(135deg, rgba(78, 52, 46, 0.4), rgba(62, 39, 35, 0.4));
        border-color: rgba(93, 64, 55, 0.3);
        color: #795548;
        opacity: 0.6;
    }

    .word-reveal {
        text-align: center;
        padding: 40px 20px;
    }

    .reveal-box {
        background: rgba(78, 52, 46, 0.6);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(161, 136, 127, 0.4);
        border-radius: 12px;
        padding: 80px 40px;
        margin: 40px 0;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 10px 40px rgba(109, 76, 65, 0.3);
    }

    .reveal-box:hover {
        transform: scale(1.02);
        border-color: rgba(161, 136, 127, 0.6);
        box-shadow: 0 14px 50px rgba(109, 76, 65, 0.5);
    }

    .reveal-box p {
        font-size: 1.5rem;
        color: #bcaaa4;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.08em;
    }

    .question-display {
        background: rgba(78, 52, 46, 0.6);
        backdrop-filter: blur(10px);
        padding: 40px 30px;
        border-radius: 12px;
        margin: 30px 0;
        box-shadow: 0 12px 40px rgba(109, 76, 65, 0.4);
        border: 2px solid rgba(161, 136, 127, 0.4);
    }

    .question-text {
        font-size: 1.8rem;
        font-weight: 700;
        color: #d7ccc8;
        text-align: center;
        line-height: 1.4;
        letter-spacing: -0.02em;
    }

    .info-text {
        color: #a1887f;
        font-size: 1rem;
        margin-top: 16px;
        text-align: center;
        line-height: 1.6;
        font-weight: 600;
    }

    .warning-text {
        background: rgba(109, 76, 65, 0.4);
        border: 2px solid rgba(161, 136, 127, 0.5);
        color: #bcaaa4;
        padding: 16px;
        border-radius: 8px;
        margin: 24px 0;
        text-align: center;
        font-weight: 700;
        box-shadow: 0 6px 20px rgba(109, 76, 65, 0.3);
    }

    .progress-indicator {
        background: rgba(78, 52, 46, 0.6);
        border: 2px solid rgba(161, 136, 127, 0.3);
        border-radius: 8px;
        padding: 16px;
        margin: 20px 0;
        text-align: center;
        font-weight: 700;
        color: #bcaaa4;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.95rem;
    }

    .progress-indicator.complete {
        background: rgba(56, 142, 60, 0.3);
        color: #a5d6a7;
        border-color: rgba(129, 199, 132, 0.4);
    }

    .hidden {
        display: none !important;
    }

    @media (max-width: 600px) {
        .container {
            padding: 36px 20px;
        }

        h1 {
            font-size: 3rem;
        }

        h2 {
            font-size: 2rem;
        }

        .name-grid {
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .name-button {
            font-size: 1.05rem;
            min-height: 85px;
            padding: 24px 16px;
        }

        .question-text {
            font-size: 1.4rem;
        }
    }
</style>
</head>
<body>
<div class="warm-light"></div>
<div class="steam steam-1">‚òï</div>
<div class="steam steam-2">‚òï</div>
<div class="container">

<!-- Setup Screen -->
<div id="setup-screen">
<h1>ODD ONE OUT</h1>
<p class="info-text" style="margin-bottom: 20px;">Everyone gets the same question... except one person!</p>

<div class="setup-section">
<label>Add Players (minimum 3)</label>
<div class="player-input-container">
<input type="text" id="new-player-name" placeholder="Enter player name..." maxlength="20">
<button class="btn btn-small" onclick="addPlayer()">Add</button>
</div>
</div>

<div class="players-list" id="players-list-setup">
<p class="info-text">No players added yet</p>
</div>

<div class="setup-section">
<label for="category">Theme</label>
<select id="category">
<option value="love">üíï Love & Relationships</option>
<option value="daily">‚òÄÔ∏è Daily Life</option>
<option value="guilty">üòà Guilty Pleasures</option>
<option value="dark">üåë Dark Humor</option>
<option value="opinions">üí≠ Hot Takes</option>
<option value="personal">üîÆ Personal Questions</option>
</select>
</div>

<button class="btn" onclick="startGame()">Start Game</button>
</div>

<!-- Question Reveal Screen -->
<div id="question-screen" class="hidden">
<h2 id="current-player-name"></h2>

<div id="reveal-container">
<div class="reveal-box" onclick="revealQuestion()">
<p>Tap to see your question</p>
</div>
</div>

<div id="question-container" class="hidden">
<div class="question-display">
<div class="question-text" id="question-text"></div>
</div>
<p class="info-text">Remember this question and think of your answer!</p>
</div>

<button class="btn btn-secondary" onclick="nextPlayer()" id="next-btn" disabled>Next Player</button>
</div>

<!-- Discussion Screen -->
<div id="discussion-screen" class="hidden">
<h2>üí¨ Discussion Time!</h2>
<div style="background: rgba(68, 47, 38, 0.6); padding: 30px; border-radius: 12px; margin: 30px 0; border: 2px solid rgba(217, 119, 6, 0.3);">
<p style="color: #fcd34d; font-size: 1.2rem; text-align: center; margin-bottom: 20px; font-weight: 600;">
Everyone share your answers out loud!
</p>
<p class="info-text">
Try to figure out who had a different question based on their answer
</p>
</div>
<button class="btn" onclick="showQuestionsReveal()">Show Questions</button>
</div>

<!-- Questions Reveal Screen -->
<div id="questions-reveal-screen" class="hidden">
<h2>The Questions Were...</h2>

<div style="background: rgba(68, 47, 38, 0.6); padding: 25px; border-radius: 12px; margin: 20px 0; border: 2px solid rgba(217, 119, 6, 0.4);">
<p style="color: #fbbf24; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 10px; font-weight: 600;">
Most Players
</p>
<p style="color: #fcd34d; font-size: 1.3rem; font-weight: 600; line-height: 1.5;" id="normal-question-reveal"></p>
</div>

<div style="background: rgba(146, 64, 14, 0.4); padding: 25px; border-radius: 12px; margin: 20px 0; border: 2px solid rgba(217, 119, 6, 0.5);">
<p style="color: #fbbf24; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 10px; font-weight: 600;">
One Player
</p>
<p style="color: #fcd34d; font-size: 1.3rem; font-weight: 600; line-height: 1.5;" id="odd-question-preview"></p>
</div>

<p class="info-text" style="margin: 30px 0;">Ready to see who had the different question?</p>

<button class="btn" onclick="showOddOneOut()">Reveal the Odd One Out</button>
</div>

<!-- Results Screen -->
<div id="results-screen" class="hidden">
<h2>‚ö†Ô∏è The Odd One Out Was...</h2>

<div style="background: rgba(146, 64, 14, 0.4); padding: 40px 25px; border-radius: 12px; margin: 30px 0; border: 3px solid rgba(217, 119, 6, 0.6); box-shadow: 0 8px 24px rgba(217, 119, 6, 0.4);">
<p style="text-align: center; color: #fcd34d; font-weight: 700; font-size: 3rem; margin-bottom: 20px; font-family: 'Righteous', sans-serif;" id="odd-one-name"></p>
<div style="background: rgba(68, 47, 38, 0.6); padding: 20px; border-radius: 12px; margin-top: 20px;">
<p style="color: #fbbf24; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 8px; font-weight: 600;">
Their Question
</p>
<p style="color: #fcd34d; font-size: 1.2rem; font-weight: 600; line-height: 1.5;" id="odd-question-reveal"></p>
</div>
</div>

<button class="btn" onclick="playAgain()">Play Again</button>
<button class="btn btn-secondary" onclick="resetGame()">New Players</button>
</div>
</div>

<script>
    const questionDatabase = {
        love: {
            normal: [
                "What's your ideal first date?",
                "What do you find most attractive in someone?",
                "What's your biggest relationship green flag?",
                "How do you show someone you care about them?",
                "What's the best compliment you've ever received?",
                "What makes you feel loved?",
                "When do you know you can trust someone?",
                "What's your idea of a romantic gesture?",
                "What do you value most in a friendship?",
                "What makes you feel appreciated?"
            ],
            odd: [
                "What's your ideal Valentine's Day?",
                "What's your biggest turn-on?",
                "What's your biggest relationship red flag?",
                "How do you know when someone likes you?",
                "What's the best gift you've ever received?",
                "What makes you feel special?",
                "When do you know you like someone?",
                "What's the most romantic place you've been?",
                "What do you look for in a best friend?",
                "What makes you feel confident?"
            ]
        },
        daily: {
            normal: [
                "What's your morning routine?",
                "What's your favorite meal to cook?",
                "How do you relax after a stressful day?",
                "What's your go-to comfort activity?",
                "What's your favorite way to spend a Sunday?",
                "What do you always have for breakfast?",
                "How do you motivate yourself?",
                "What's your favorite part of the day?",
                "What do you do when you can't sleep?",
                "How do you treat yourself?"
            ],
            odd: [
                "What's your nighttime routine?",
                "What's your favorite meal to order?",
                "How do you procrastinate when stressed?",
                "What's your go-to boredom activity?",
                "What's your favorite way to spend a Saturday?",
                "What do you always have for dinner?",
                "How do you avoid work?",
                "What's your least productive time of day?",
                "What do you do when you're bored?",
                "How do you waste money?"
            ]
        },
        guilty: {
            normal: [
                "What's your guilty pleasure show?",
                "What's a song you secretly love?",
                "What's your go-to junk food?",
                "What's something childish you still enjoy?",
                "What's your trashy entertainment vice?",
                "What's your favorite way to waste time?",
                "What's something you enjoy that people judge you for?",
                "What's your secret indulgence?",
                "What's your favorite cringe content?",
                "What's something you hide from people?"
            ],
            odd: [
                "What show are you currently binging?",
                "What song is stuck in your head right now?",
                "What's your late-night craving?",
                "What's something nostalgic you miss?",
                "What's your comfort watch?",
                "What's your favorite productive hobby?",
                "What's something you're surprisingly good at?",
                "What's your daily treat?",
                "What's your favorite wholesome content?",
                "What's a talent you have that surprises people?"
            ]
        },
        dark: {
            normal: [
                "What's your most controversial opinion?",
                "What's something petty that bothers you?",
                "What's a lie you've told that spiraled out of control?",
                "What's something you've done that you're not proud of?",
                "What's your worst habit?",
                "What's something you judge people for?",
                "What's your most irrational fear?",
                "What's the worst thing you've said to someone?",
                "What's something you pretend to like?",
                "What's your most toxic trait?"
            ],
            odd: [
                "What's an opinion that would surprise people?",
                "What's something small that makes you happy?",
                "What's a truth you wish you'd told sooner?",
                "What's something you've done that you're secretly proud of?",
                "What's your best quality?",
                "What's something you admire in others?",
                "What's your biggest rational fear?",
                "What's the nicest thing you've said to someone?",
                "What's something you genuinely love?",
                "What's your best character trait?"
            ]
        },
        opinions: {
            normal: [
                "What's the most overrated food?",
                "What's a popular trend you don't understand?",
                "What's something everyone seems to love that you hate?",
                "What's the worst popular song?",
                "What's a movie everyone loves that you find boring?",
                "What's something that needs to be canceled?",
                "What's an unpopular opinion you have about school?",
                "What's the most annoying social media platform?",
                "What's a celebrity everyone likes that you don't get?",
                "What's something Gen Z does that's cringe?"
            ],
            odd: [
                "What's a food you could eat every day?",
                "What's a trend you secretly participate in?",
                "What's something unpopular that you actually enjoy?",
                "What's your current favorite song?",
                "What's an underrated movie you recommend?",
                "What's something that deserves more hype?",
                "What's something great about your generation?",
                "What's your most-used app?",
                "Who's someone you think is underrated?",
                "What's something Gen Z does better than anyone?"
            ]
        },
        personal: {
            normal: [
                "What's your biggest insecurity?",
                "What's something you're working on improving?",
                "What do you think people misunderstand about you?",
                "What's your biggest regret?",
                "What's something that scares you about the future?",
                "What's a goal you haven't achieved yet?",
                "What's something you wish you were better at?",
                "What's your biggest weakness?",
                "What's something you're self-conscious about?",
                "What do you worry about most?"
            ],
            odd: [
                "What's your biggest flex?",
                "What's something you've gotten really good at?",
                "What do you wish people knew about you?",
                "What's your proudest moment?",
                "What's something you're excited about for the future?",
                "What's a goal you've already accomplished?",
                "What's your hidden talent?",
                "What's your greatest strength?",
                "What's something you're confident about?",
                "What motivates you most?"
            ]
        }
    };

    let gameState = {
        players: [],
        category: 'love',
        currentPlayerIndex: 0,
        oddOneIndex: -1,
        normalQuestion: '',
        oddQuestion: '',
        phase: 'setup'
    };

    // Add player with Enter key
    document.getElementById('new-player-name').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            addPlayer();
        }
    });

    function addPlayer() {
        const input = document.getElementById('new-player-name');
        const name = input.value.trim();

        if (!name) {
            alert('Please enter a name!');
            return;
        }

        if (gameState.players.includes(name)) {
            alert('This name is already added!');
            return;
        }

        gameState.players.push(name);
        input.value = '';
        updatePlayersList();
    }

    function removePlayer(index) {
        gameState.players.splice(index, 1);
        updatePlayersList();
    }

    function updatePlayersList() {
        const list = document.getElementById('players-list-setup');
        if (gameState.players.length === 0) {
            list.innerHTML = '<p class="info-text">No players added yet</p>';
            return;
        }

        list.innerHTML = gameState.players.map((player, index) => `
            <div class="player-item">
                <span class="player-name">${player}</span>
                <button class="remove-btn" onclick="removePlayer(${index})">Remove</button>
            </div>
        `).join('');
    }

    function startGame() {
        if (gameState.players.length < 3) {
            alert('You need at least 3 players!');
            return;
        }

        gameState.category = document.getElementById('category').value;
        gameState.currentPlayerIndex = 0;
        
        // Pick random questions
        const questions = questionDatabase[gameState.category];
        const normalIndex = Math.floor(Math.random() * questions.normal.length);
        const oddIndex = Math.floor(Math.random() * questions.odd.length);
        
        gameState.normalQuestion = questions.normal[normalIndex];
        gameState.oddQuestion = questions.odd[oddIndex];
        
        // Pick random odd one out
        gameState.oddOneIndex = Math.floor(Math.random() * gameState.players.length);

        showQuestion();
    }

    function showQuestion() {
        const playerName = gameState.players[gameState.currentPlayerIndex];

        document.getElementById('current-player-name').textContent = playerName;
        
        // Show reveal box, hide question
        document.getElementById('reveal-container').classList.remove('hidden');
        document.getElementById('question-container').classList.add('hidden');
        document.getElementById('next-btn').disabled = true;

        showScreen('question-screen');
    }

    function revealQuestion() {
        const isOddOne = gameState.currentPlayerIndex === gameState.oddOneIndex;
        const question = isOddOne ? gameState.oddQuestion : gameState.normalQuestion;

        document.getElementById('question-text').textContent = question;

        // Hide reveal box, show question
        document.getElementById('reveal-container').classList.add('hidden');
        document.getElementById('question-container').classList.remove('hidden');
        document.getElementById('next-btn').disabled = false;
    }

    function nextPlayer() {
        gameState.currentPlayerIndex++;

        if (gameState.currentPlayerIndex >= gameState.players.length) {
            // Everyone has seen their question, go to discussion
            showDiscussion();
        } else {
            showQuestion();
        }
    }

    function showDiscussion() {
        showScreen('discussion-screen');
    }

    function showQuestionsReveal() {
        document.getElementById('normal-question-reveal').textContent = `"${gameState.normalQuestion}"`;
        document.getElementById('odd-question-preview').textContent = `"${gameState.oddQuestion}"`;
        showScreen('questions-reveal-screen');
    }

    function showOddOneOut() {
        const oddOneName = gameState.players[gameState.oddOneIndex];
        
        document.getElementById('odd-one-name').textContent = oddOneName;
        document.getElementById('odd-question-reveal').textContent = `"${gameState.oddQuestion}"`;

        showScreen('results-screen');
    }

    function playAgain() {
        gameState.currentPlayerIndex = 0;
        startGame();
    }

    function resetGame() {
        gameState.currentPlayerIndex = 0;
        gameState.players = [];
        showScreen('setup-screen');
        updatePlayersList();
    }

    function showScreen(screenId) {
        const screens = ['setup-screen', 'question-screen', 'discussion-screen', 'questions-reveal-screen', 'results-screen'];
        screens.forEach(screen => {
            document.getElementById(screen).classList.add('hidden');
        });
        document.getElementById(screenId).classList.remove('hidden');
    }
</script>
</body>
</html>
